{
  "$schema": "schema_definitions/modelSchema.json",
  "tables": [
    {
      "tableName": "roles",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "name",
          "dataType": "VARCHAR",
          "length": 100,
          "isUnique": true
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        }
      ],
      "primaryKey": [
        "id"
      ]
    },
    {
      "tableName": "users",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "email",
          "dataType": "VARCHAR",
          "length": 255,
          "isUnique": true
        },
        {
          "columnName": "hashed_password",
          "dataType": "VARCHAR",
          "length": 255
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "roles",
          "dataType": "JSON",
          "isNullable": true
        },
        {
          "columnName": "permissions",
          "dataType": "JSON",
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ]
    },
    {
      "tableName": "user_roles",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "user_id",
          "dataType": "UUID"
        },
        {
          "columnName": "role_id",
          "dataType": "UUID"
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        }
      ],
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "columnName": "user_id",
          "referencedTable": "users",
          "referencedColumn": "id",
          "relationshipName": "user"
        },
        {
          "columnName": "role_id",
          "referencedTable": "roles",
          "referencedColumn": "id",
          "relationshipName": "role"
        }
      ]
    },
    {
      "tableName": "sessions",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "user_id",
          "dataType": "UUID"
        },
        {
          "columnName": "issued_at",
          "dataType": "TIMESTAMP",
          "defaultValue": "now"
        },
        {
          "columnName": "expires_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "columnName": "user_id",
          "referencedTable": "users",
          "referencedColumn": "id",
          "relationshipName": "user"
        }
      ]
    },
    {
      "tableName": "legal_entity_type",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "name",
          "dataType": "VARCHAR",
          "length": 255
        },
        {
          "columnName": "description",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "created_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "updated_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "updated_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ]
    },
    {
      "tableName": "form_definition",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "name",
          "dataType": "VARCHAR",
          "length": 255
        },
        {
          "columnName": "version",
          "dataType": "INTEGER"
        },
        {
          "columnName": "form_schema",
          "dataType": "JSON"
        },
        {
          "columnName": "is_active",
          "dataType": "BOOLEAN",
          "isNullable": true,
          "defaultValue": true
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "created_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "updated_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "updated_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "field_state_setting",
          "dataType": "JSON",
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ]
    },
    {
      "tableName": "process_definition",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "name",
          "dataType": "VARCHAR",
          "length": 255
        },
        {
          "columnName": "description",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "created_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "updated_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "updated_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ]
    },
    {
      "tableName": "task_definition",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "process_definition_id",
          "dataType": "UUID"
        },
        {
          "columnName": "name",
          "dataType": "VARCHAR",
          "length": 255
        },
        {
          "columnName": "description",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "order",
          "dataType": "INTEGER",
          "isNullable": true
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "created_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "updated_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "updated_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "columnName": "process_definition_id",
          "referencedTable": "process_definition/properties/id",
          "referencedColumn": "id",
          "relationshipName": "process_definition"
        }
      ]
    },
    {
      "tableName": "task_field_behavior",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "task_definition_id",
          "dataType": "UUID"
        },
        {
          "columnName": "form_definition_id",
          "dataType": "UUID"
        },
        {
          "columnName": "field_name",
          "dataType": "VARCHAR",
          "length": 255
        },
        {
          "columnName": "action_context",
          "dataType": "VARCHAR",
          "length": 255
        },
        {
          "columnName": "visible",
          "dataType": "BOOLEAN",
          "isNullable": true,
          "defaultValue": true
        },
        {
          "columnName": "editable",
          "dataType": "BOOLEAN",
          "isNullable": true,
          "defaultValue": false
        },
        {
          "columnName": "required",
          "dataType": "BOOLEAN",
          "isNullable": true,
          "defaultValue": false
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "created_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "updated_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "updated_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "columnName": "task_definition_id",
          "referencedTable": "task_definition/properties/id",
          "referencedColumn": "id",
          "relationshipName": "task_definition"
        },
        {
          "columnName": "form_definition_id",
          "referencedTable": "form_definition/properties/id",
          "referencedColumn": "id",
          "relationshipName": "form_definition"
        }
      ]
    },
    {
      "tableName": "workflow_state",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "process_definition_id",
          "dataType": "UUID"
        },
        {
          "columnName": "name",
          "dataType": "VARCHAR",
          "length": 255
        },
        {
          "columnName": "description",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "created_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "updated_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "updated_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "columnName": "process_definition_id",
          "referencedTable": "process_definition/properties/id",
          "referencedColumn": "id",
          "relationshipName": "process_definition"
        }
      ]
    },
    {
      "tableName": "workflow_transition",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "from_state_id",
          "dataType": "UUID"
        },
        {
          "columnName": "to_state_id",
          "dataType": "UUID"
        },
        {
          "columnName": "condition",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "created_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "updated_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "updated_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "columnName": "from_state_id",
          "referencedTable": "workflow_state/properties/id",
          "referencedColumn": "id",
          "relationshipName": "from_state"
        },
        {
          "columnName": "to_state_id",
          "referencedTable": "workflow_state/properties/id",
          "referencedColumn": "id",
          "relationshipName": "to_state"
        }
      ]
    },
    {
      "tableName": "legal_entity",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "name",
          "dataType": "VARCHAR",
          "length": 255
        },
        {
          "columnName": "type_id",
          "dataType": "UUID"
        },
        {
          "columnName": "email",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "phone_number",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "created_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "updated_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "updated_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "columnName": "type_id",
          "referencedTable": "legal_entity_type/properties/id",
          "referencedColumn": "id",
          "relationshipName": "type"
        }
      ]
    },
    {
      "tableName": "process_instance",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "definition_id",
          "dataType": "UUID"
        },
        {
          "columnName": "legal_entity_id",
          "dataType": "UUID"
        },
        {
          "columnName": "current_state_id",
          "dataType": "UUID",
          "isNullable": true
        },
        {
          "columnName": "started_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "created_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "updated_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "updated_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "columnName": "definition_id",
          "referencedTable": "process_definition/properties/id",
          "referencedColumn": "id",
          "relationshipName": "definition"
        },
        {
          "columnName": "legal_entity_id",
          "referencedTable": "legal_entity/properties/id",
          "referencedColumn": "id",
          "relationshipName": "legal_entity"
        },
        {
          "columnName": "current_state_id",
          "referencedTable": "workflow_state/properties/id",
          "referencedColumn": "id",
          "relationshipName": "current_state"
        }
      ]
    },
    {
      "tableName": "form_entry",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "form_definition_id",
          "dataType": "UUID"
        },
        {
          "columnName": "process_instance_id",
          "dataType": "UUID"
        },
        {
          "columnName": "legal_entity_id",
          "dataType": "UUID"
        },
        {
          "columnName": "data",
          "dataType": "JSON"
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "created_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "updated_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "updated_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "columnName": "form_definition_id",
          "referencedTable": "form_definition/properties/id",
          "referencedColumn": "id",
          "relationshipName": "form_definition"
        },
        {
          "columnName": "process_instance_id",
          "referencedTable": "process_instance/properties/id",
          "referencedColumn": "id",
          "relationshipName": "process_instance"
        },
        {
          "columnName": "legal_entity_id",
          "referencedTable": "legal_entity/properties/id",
          "referencedColumn": "id",
          "relationshipName": "legal_entity"
        }
      ]
    },
    {
      "tableName": "task_instance",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "task_definition_id",
          "dataType": "UUID"
        },
        {
          "columnName": "process_instance_id",
          "dataType": "UUID"
        },
        {
          "columnName": "status",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true,
          "defaultValue": "pending"
        },
        {
          "columnName": "started_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "completed_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "created_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "updated_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "updated_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "columnName": "task_definition_id",
          "referencedTable": "task_definition/properties/id",
          "referencedColumn": "id",
          "relationshipName": "task_definition"
        },
        {
          "columnName": "process_instance_id",
          "referencedTable": "process_instance/properties/id",
          "referencedColumn": "id",
          "relationshipName": "process_instance"
        }
      ]
    },
    {
      "tableName": "document_upload",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "form_entry_id",
          "dataType": "UUID"
        },
        {
          "columnName": "field_name",
          "dataType": "VARCHAR",
          "length": 255
        },
        {
          "columnName": "storage_type",
          "dataType": "VARCHAR",
          "length": 255
        },
        {
          "columnName": "storage_path",
          "dataType": "VARCHAR",
          "length": 255
        },
        {
          "columnName": "uploaded_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "uploaded_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "created_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "updated_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "updated_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "columnName": "form_entry_id",
          "referencedTable": "form_entry/properties/id",
          "referencedColumn": "id",
          "relationshipName": "form_entry"
        }
      ]
    },
    {
      "tableName": "task_user_access",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "task_instance_id",
          "dataType": "UUID"
        },
        {
          "columnName": "user_id",
          "dataType": "VARCHAR",
          "length": 255
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "created_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "updated_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "updated_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "columnName": "task_instance_id",
          "referencedTable": "task_instance/properties/id",
          "referencedColumn": "id",
          "relationshipName": "task_instance"
        }
      ]
    },
    {
      "tableName": "process_form",
      "columns": [
        {
          "columnName": "id",
          "dataType": "UUID"
        },
        {
          "columnName": "process_definition_id",
          "dataType": "UUID"
        },
        {
          "columnName": "form_definition_id",
          "dataType": "UUID"
        },
        {
          "columnName": "is_default",
          "dataType": "BOOLEAN",
          "isNullable": true,
          "defaultValue": false
        },
        {
          "columnName": "valid_from",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "valid_to",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "created_at",
          "dataType": "TIMESTAMP",
          "isNullable": true,
          "defaultValue": "now"
        },
        {
          "columnName": "created_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        },
        {
          "columnName": "updated_at",
          "dataType": "TIMESTAMP",
          "isNullable": true
        },
        {
          "columnName": "updated_by",
          "dataType": "VARCHAR",
          "length": 255,
          "isNullable": true
        }
      ],
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "columnName": "process_definition_id",
          "referencedTable": "process_definition/properties/id",
          "referencedColumn": "id",
          "relationshipName": "process_definition"
        },
        {
          "columnName": "form_definition_id",
          "referencedTable": "form_definition/properties/id",
          "referencedColumn": "id",
          "relationshipName": "form_definition"
        }
      ]
    }
  ]
}